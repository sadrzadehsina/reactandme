{
  "title": "A communication hub for two way host-remote bindings",
  "summary": "By the end of this article, you will have an idea of how to build a “communication infrastructure” that connects MFEs together. My proposal is a way for MFEs to communicate with each other and with the app-shell in a non-dependent manner. This proposal enables MFEs to communicate with each other and the app-shell more effectively.",
  "publishedDate": "2023-09-02T00:00:00.000Z",
  "tags": [
    "micro-frontends",
    "react"
  ],
  "category": "react",
  "body": {
    "raw": "\n> The term Micro Frontends first came up in ThoughtWorks Technology Radar at the end of 2016. It extends the concepts of micro services to the frontend world. The current trend is to build a feature-rich and powerful browser application, aka single page app, which sits on top of a micro service architecture. Over time the frontend layer, often developed by a separate team, grows and gets more difficult to maintain. That’s what we call a Frontend Monolith.\n>\n> from micro-frontends.org\n\nBy the end of this article, you will have an idea of how to build a “communication infrastructure” that connects MFEs together. My proposal is a way for MFEs to communicate with each other and with the app-shell in a non-dependent manner. This proposal enables MFEs to communicate with each other and the app-shell more effectively.\n\nAll sample codes are Pseudocode. They are just for showing proposed idea. They are not intended to be used in a real application.\n\n### What is the problem being addressed?\n\nAs you move forward, you will encounter many isolated MFEs that you need to combine into a larger container, which I call the app-shell. The big deal is that MFEs need to borrow certain functionalities from their app-shell. For instance, you set up your toaster in the app-shell. Other MFEs, when integrated, use that toaster to display toast messages. From another perspective, putting so much logic into app-shell makes it a fat. Changing the app-shell would be a nightmare at the end of the day.\n\n### What is the solution to this problem?\n\nKeeping app-shell as minimal as possible is the ultimate goal. However, we need to have a way of implementing generic functions such as toast, confirm, etc. Somewhere else, rather than app-shell.\n\n### Prerequisites\n\n- You need to be familiar with frontend development\n- You need to have a basic understanding of react\n- You need to be able to think about micro frontend architecture\n- You are familiar with state management libraries such zustand\n\n### Part 0: What are host and remote\n\nI assume you are familiar with micro frontend terms. However, here’s a quick note about host and remote. Both are standalone applications that can be run independently. They have their own package.json with essential scripts. So, regardless of any circumstances, you can start/develop them.\n\nFrom another point of view, although remote applications are standalone, there should be some kind of container that puts all these remotes together, which we call the host.\n\nHost or App Shell is a very small - or at least should be small - application that defines layouts, general functionalities such as notifications, and handles routing.\n\n-- image 1\n\n### Part 1: What does not work\n\nWith the above explanation in mind, we will now look into one part of app-shell, which displays toast messages. As explained earlier, all other remotes (MFEs) will be consolidated in app-shell. Therefore, something like a toaster should be implemented in a central location that all other remotes can access, such as app-shell. However, putting it into app-shell could make it more susceptible to future changes.\n\nFor a few minutes, let’s try not to separate the toaster from the app-shell. We are going to do the wrong thing. Let's assume we have two primary components implemented in the app-shell, toaster and confirm.\n\n```js\n// app_shell/toaster\nfunction Toast({ message }) {\n  return <ToastMessage message={message} />;\n}\nfunction useToast() {\n  return {\n    showSuccess() {\n      /* show toast with success message */\n    },\n    showError() {\n      /* show toast with error message */\n    },\n  };\n}\n\n// app_shell/confirm\nfunction Confirm({ message }) {\n  return <ConfirmMessage message={message} />;\n}\nfunction useConfirm() {\n  return {\n    show() {\n      /* show confirm */\n    },\n  };\n}\n```\n\nSo app-shell will be shipped with these two components. Other MFEs would use these components by communicating with app-shell.\n\n```javascript\n// authentication\nimport { useToast } from 'app_shell/toaster';\n\nfunction Authentication() {\n\n const toaster = useToast();\n\n useEffect(() => {\n  doSomeAuthenticationStuff()\n   .then(toaster.showSuccess)\n   .catch(toaster.showError)\n }, []);\n};\n\n// user profile\nimport { useToast } from 'app_shell/toaster';\n\nfunction UserProfile() {\n\n const toaster = useToast();\n\n function save() {\n  saveProfile()\n   .then(toaster.showSuccess)\n   .catch(showError);\n }\n\n return (\n  <>\n   <h1>User Profile</h1>\n   <button onClick={}>Save</button>\n  </>\n )\n}\n```\n\nEvery update to each of these components results in an update to the entire app-shell. Every change in the toaster requires a whole end-to-end test on app-shell functions. We are making app-shell vulnerable to more bugs and side effects. On the other side, remotes have a direct dependency on app-shell.\n\n### Part 2: What works\n\nSo how are we going to decouple app-shell from such components that bring fragility? First, showing a toast message should not be a direct call. Second, managing the state of the toaster should be handled somewhere rather than app-shell.\n\nFor building an in-direct manner, I am using a very simple infrastructure which is based on the command design pattern.\n\n> The Command pattern encapsulates actions as objects. Command objects allow for loosely coupled systems by separating the objects that issue a request from the objects that actually process the request. These requests are called events and the code that processes the requests are called event handlers.\n\nAnd another remote will handle the toaster state, which I name it communication-hub.\n\n```javascript\n// hub\nimport { useToast } from \"toast\";\n\nconst commands = {\n  showToast: useToast.getState().showToast,\n};\n\nexport const Hub = {\n  runCommand: (command, payload) => commands[command](payload),\n  useValues,\n};\n\nfunction useValues() {\n  const { toast } = useToast();\n\n  return {\n    toast,\n  };\n}\n```\n\nAs before, toaster will work. However, by decoupling toaster from app-shell we ended up to a more solid app-shell that only changes if it should.\n\nOther remotes still can show toast messages.\n\n```javascript\n// authentication\nimport { Hub } from \"toaster\";\n\nfunction Authentication() {\n  useEffect(() => {\n    doSomeAuthenticationStuff()\n      .then(() => {\n        Hub.runCommand(\"showToast\", \"Succeed\");\n      })\n      .catch((error) => {\n        Hub.runCommand(\"showToast\", `Error, ${error}`);\n      });\n  }, []);\n}\n```\n\nCheck out my [Github repository](https://github.com/sadrzadehsina/micro-frontend-playground/tree/main/communication-pattern) for a working version.\n",
    "code": "var Component=(()=>{var cn=Object.create;var A=Object.defineProperty;var mn=Object.getOwnPropertyDescriptor;var ln=Object.getOwnPropertyNames;var fn=Object.getPrototypeOf,bn=Object.prototype.hasOwnProperty;var B=(m,n)=>()=>(n||m((n={exports:{}}).exports,n),n.exports),un=(m,n)=>{for(var _ in n)A(m,_,{get:n[_],enumerable:!0})},Ne=(m,n,_,w)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let y of ln(n))!bn.call(m,y)&&y!==_&&A(m,y,{get:()=>n[y],enumerable:!(w=mn(n,y))||w.enumerable});return m};var hn=(m,n,_)=>(_=m!=null?cn(fn(m)):{},Ne(n||!m||!m.__esModule?A(_,\"default\",{value:m,enumerable:!0}):_,m)),_n=m=>Ne(A({},\"__esModule\",{value:!0}),m);var ve=B((xn,xe)=>{xe.exports=React});var je=B(z=>{\"use strict\";(function(){\"use strict\";var m=ve(),n=Symbol.for(\"react.element\"),_=Symbol.for(\"react.portal\"),w=Symbol.for(\"react.fragment\"),y=Symbol.for(\"react.strict_mode\"),G=Symbol.for(\"react.profiler\"),K=Symbol.for(\"react.provider\"),X=Symbol.for(\"react.context\"),k=Symbol.for(\"react.forward_ref\"),D=Symbol.for(\"react.suspense\"),M=Symbol.for(\"react.suspense_list\"),R=Symbol.for(\"react.memo\"),W=Symbol.for(\"react.lazy\"),Re=Symbol.for(\"react.offscreen\"),J=Symbol.iterator,Ce=\"@@iterator\";function Se(e){if(e===null||typeof e!=\"object\")return null;var a=J&&e[J]||e[Ce];return typeof a==\"function\"?a:null}var x=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(e){{for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];Pe(\"error\",e,i)}}function Pe(e,a,i){{var s=x.ReactDebugCurrentFrame,d=s.getStackAddendum();d!==\"\"&&(a+=\"%s\",i=i.concat([d]));var c=i.map(function(r){return String(r)});c.unshift(\"Warning: \"+a),Function.prototype.apply.call(console[e],console,c)}}var Oe=!1,Fe=!1,Ae=!1,De=!1,Me=!1,Z;Z=Symbol.for(\"react.module.reference\");function We(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===w||e===G||Me||e===y||e===D||e===M||De||e===Re||Oe||Fe||Ae||typeof e==\"object\"&&e!==null&&(e.$$typeof===W||e.$$typeof===R||e.$$typeof===K||e.$$typeof===X||e.$$typeof===k||e.$$typeof===Z||e.getModuleId!==void 0))}function Ie(e,a,i){var s=e.displayName;if(s)return s;var d=a.displayName||a.name||\"\";return d!==\"\"?i+\"(\"+d+\")\":i}function Q(e){return e.displayName||\"Context\"}function p(e){if(e==null)return null;if(typeof e.tag==\"number\"&&b(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case w:return\"Fragment\";case _:return\"Portal\";case G:return\"Profiler\";case y:return\"StrictMode\";case D:return\"Suspense\";case M:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case X:var a=e;return Q(a)+\".Consumer\";case K:var i=e;return Q(i._context)+\".Provider\";case k:return Ie(e,e.render,\"ForwardRef\");case R:var s=e.displayName||null;return s!==null?s:p(e.type)||\"Memo\";case W:{var d=e,c=d._payload,r=d._init;try{return p(r(c))}catch{return null}}}return null}var N=Object.assign,E=0,ee,ne,te,ae,ie,se,oe;function re(){}re.__reactDisabledLog=!0;function Ye(){{if(E===0){ee=console.log,ne=console.info,te=console.warn,ae=console.error,ie=console.group,se=console.groupCollapsed,oe=console.groupEnd;var e={configurable:!0,enumerable:!0,value:re,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}E++}}function $e(){{if(E--,E===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},e,{value:ee}),info:N({},e,{value:ne}),warn:N({},e,{value:te}),error:N({},e,{value:ae}),group:N({},e,{value:ie}),groupCollapsed:N({},e,{value:se}),groupEnd:N({},e,{value:oe})})}E<0&&b(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var I=x.ReactCurrentDispatcher,Y;function C(e,a,i){{if(Y===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\\n( *(at )?)/);Y=s&&s[1]||\"\"}return`\n`+Y+e}}var $=!1,S;{var Ve=typeof WeakMap==\"function\"?WeakMap:Map;S=new Ve}function de(e,a){if(!e||$)return\"\";{var i=S.get(e);if(i!==void 0)return i}var s;$=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var c;c=I.current,I.current=null,Ye();try{if(a){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(r,[])}catch(g){s=g}Reflect.construct(e,[],r)}else{try{r.call()}catch(g){s=g}e.call(r.prototype)}}else{try{throw Error()}catch(g){s=g}e()}}catch(g){if(g&&s&&typeof g.stack==\"string\"){for(var o=g.stack.split(`\n`),u=s.stack.split(`\n`),l=o.length-1,f=u.length-1;l>=1&&f>=0&&o[l]!==u[f];)f--;for(;l>=1&&f>=0;l--,f--)if(o[l]!==u[f]){if(l!==1||f!==1)do if(l--,f--,f<0||o[l]!==u[f]){var h=`\n`+o[l].replace(\" at new \",\" at \");return e.displayName&&h.includes(\"<anonymous>\")&&(h=h.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&S.set(e,h),h}while(l>=1&&f>=0);break}}}finally{$=!1,I.current=c,$e(),Error.prepareStackTrace=d}var j=e?e.displayName||e.name:\"\",we=j?C(j):\"\";return typeof e==\"function\"&&S.set(e,we),we}function Le(e,a,i){return de(e,!1)}function qe(e){var a=e.prototype;return!!(a&&a.isReactComponent)}function P(e,a,i){if(e==null)return\"\";if(typeof e==\"function\")return de(e,qe(e));if(typeof e==\"string\")return C(e);switch(e){case D:return C(\"Suspense\");case M:return C(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case k:return Le(e.render);case R:return P(e.type,a,i);case W:{var s=e,d=s._payload,c=s._init;try{return P(c(d),a,i)}catch{}}}return\"\"}var O=Object.prototype.hasOwnProperty,ce={},me=x.ReactDebugCurrentFrame;function F(e){if(e){var a=e._owner,i=P(e.type,e._source,a?a.type:null);me.setExtraStackFrame(i)}else me.setExtraStackFrame(null)}function Ue(e,a,i,s,d){{var c=Function.call.bind(O);for(var r in e)if(c(e,r)){var o=void 0;try{if(typeof e[r]!=\"function\"){var u=Error((s||\"React class\")+\": \"+i+\" type `\"+r+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[r]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw u.name=\"Invariant Violation\",u}o=e[r](a,r,s,i,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(l){o=l}o&&!(o instanceof Error)&&(F(d),b(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",s||\"React class\",i,r,typeof o),F(null)),o instanceof Error&&!(o.message in ce)&&(ce[o.message]=!0,F(d),b(\"Failed %s type: %s\",i,o.message),F(null))}}}var He=Array.isArray;function V(e){return He(e)}function Be(e){{var a=typeof Symbol==\"function\"&&Symbol.toStringTag,i=a&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return i}}function ze(e){try{return le(e),!1}catch{return!0}}function le(e){return\"\"+e}function fe(e){if(ze(e))return b(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Be(e)),le(e)}var T=x.ReactCurrentOwner,Ge={key:!0,ref:!0,__self:!0,__source:!0},be,ue,L;L={};function Ke(e){if(O.call(e,\"ref\")){var a=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(a&&a.isReactWarning)return!1}return e.ref!==void 0}function Xe(e){if(O.call(e,\"key\")){var a=Object.getOwnPropertyDescriptor(e,\"key\").get;if(a&&a.isReactWarning)return!1}return e.key!==void 0}function Je(e,a){if(typeof e.ref==\"string\"&&T.current&&a&&T.current.stateNode!==a){var i=p(T.current.type);L[i]||(b('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',p(T.current.type),e.ref),L[i]=!0)}}function Ze(e,a){{var i=function(){be||(be=!0,b(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",a))};i.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:i,configurable:!0})}}function Qe(e,a){{var i=function(){ue||(ue=!0,b(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",a))};i.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:i,configurable:!0})}}var en=function(e,a,i,s,d,c,r){var o={$$typeof:n,type:e,key:a,ref:i,props:r,_owner:c};return o._store={},Object.defineProperty(o._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(o,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.defineProperty(o,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:d}),Object.freeze&&(Object.freeze(o.props),Object.freeze(o)),o};function nn(e,a,i,s,d){{var c,r={},o=null,u=null;i!==void 0&&(fe(i),o=\"\"+i),Xe(a)&&(fe(a.key),o=\"\"+a.key),Ke(a)&&(u=a.ref,Je(a,d));for(c in a)O.call(a,c)&&!Ge.hasOwnProperty(c)&&(r[c]=a[c]);if(e&&e.defaultProps){var l=e.defaultProps;for(c in l)r[c]===void 0&&(r[c]=l[c])}if(o||u){var f=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;o&&Ze(r,f),u&&Qe(r,f)}return en(e,o,u,d,s,T.current,r)}}var q=x.ReactCurrentOwner,he=x.ReactDebugCurrentFrame;function v(e){if(e){var a=e._owner,i=P(e.type,e._source,a?a.type:null);he.setExtraStackFrame(i)}else he.setExtraStackFrame(null)}var U;U=!1;function H(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===n}function _e(){{if(q.current){var e=p(q.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function tn(e){{if(e!==void 0){var a=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),i=e.lineNumber;return`\n\nCheck your code at `+a+\":\"+i+\".\"}return\"\"}}var pe={};function an(e){{var a=_e();if(!a){var i=typeof e==\"string\"?e:e.displayName||e.name;i&&(a=`\n\nCheck the top-level render call using <`+i+\">.\")}return a}}function ge(e,a){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var i=an(a);if(pe[i])return;pe[i]=!0;var s=\"\";e&&e._owner&&e._owner!==q.current&&(s=\" It was passed a child from \"+p(e._owner.type)+\".\"),v(e),b('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',i,s),v(null)}}function ye(e,a){{if(typeof e!=\"object\")return;if(V(e))for(var i=0;i<e.length;i++){var s=e[i];H(s)&&ge(s,a)}else if(H(e))e._store&&(e._store.validated=!0);else if(e){var d=Se(e);if(typeof d==\"function\"&&d!==e.entries)for(var c=d.call(e),r;!(r=c.next()).done;)H(r.value)&&ge(r.value,a)}}}function sn(e){{var a=e.type;if(a==null||typeof a==\"string\")return;var i;if(typeof a==\"function\")i=a.propTypes;else if(typeof a==\"object\"&&(a.$$typeof===k||a.$$typeof===R))i=a.propTypes;else return;if(i){var s=p(a);Ue(i,e.props,\"prop\",s,e)}else if(a.PropTypes!==void 0&&!U){U=!0;var d=p(a);b(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",d||\"Unknown\")}typeof a.getDefaultProps==\"function\"&&!a.getDefaultProps.isReactClassApproved&&b(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function on(e){{for(var a=Object.keys(e.props),i=0;i<a.length;i++){var s=a[i];if(s!==\"children\"&&s!==\"key\"){v(e),b(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",s),v(null);break}}e.ref!==null&&(v(e),b(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),v(null))}}function rn(e,a,i,s,d,c){{var r=We(e);if(!r){var o=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(o+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var u=tn(d);u?o+=u:o+=_e();var l;e===null?l=\"null\":V(e)?l=\"array\":e!==void 0&&e.$$typeof===n?(l=\"<\"+(p(e.type)||\"Unknown\")+\" />\",o=\" Did you accidentally export a JSX literal instead of a component?\"):l=typeof e,b(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",l,o)}var f=nn(e,a,i,d,c);if(f==null)return f;if(r){var h=a.children;if(h!==void 0)if(s)if(V(h)){for(var j=0;j<h.length;j++)ye(h[j],e);Object.freeze&&Object.freeze(h)}else b(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ye(h,e)}return e===w?on(f):sn(f),f}}var dn=rn;z.Fragment=w,z.jsxDEV=dn})()});var Te=B((jn,Ee)=>{\"use strict\";Ee.exports=je()});var wn={};un(wn,{default:()=>yn,frontmatter:()=>pn});var t=hn(Te()),pn={title:\"A communication hub for two way host-remote bindings\",summary:\"By the end of this article, you will have an idea of how to build a \\u201Ccommunication infrastructure\\u201D that connects MFEs together. My proposal is a way for MFEs to communicate with each other and with the app-shell in a non-dependent manner. This proposal enables MFEs to communicate with each other and the app-shell more effectively.\",publishedDate:new Date(16936128e5),tags:[\"micro-frontends\",\"react\"]};function ke(m){let n=Object.assign({blockquote:\"blockquote\",p:\"p\",h3:\"h3\",ul:\"ul\",li:\"li\",pre:\"pre\",code:\"code\",span:\"span\",a:\"a\"},m.components);return(0,t.jsxDEV)(t.Fragment,{children:[(0,t.jsxDEV)(n.blockquote,{children:[`\n`,(0,t.jsxDEV)(n.p,{children:\"The term Micro Frontends first came up in ThoughtWorks Technology Radar at the end of 2016. It extends the concepts of micro services to the frontend world. The current trend is to build a feature-rich and powerful browser application, aka single page app, which sits on top of a micro service architecture. Over time the frontend layer, often developed by a separate team, grows and gets more difficult to maintain. That\\u2019s what we call a Frontend Monolith.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:10,columnNumber:3},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"from micro-frontends.org\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:12,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:10,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"By the end of this article, you will have an idea of how to build a \\u201Ccommunication infrastructure\\u201D that connects MFEs together. My proposal is a way for MFEs to communicate with each other and with the app-shell in a non-dependent manner. This proposal enables MFEs to communicate with each other and the app-shell more effectively.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:14,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"All sample codes are Pseudocode. They are just for showing proposed idea. They are not intended to be used in a real application.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:16,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"What is the problem being addressed?\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:18,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"As you move forward, you will encounter many isolated MFEs that you need to combine into a larger container, which I call the app-shell. The big deal is that MFEs need to borrow certain functionalities from their app-shell. For instance, you set up your toaster in the app-shell. Other MFEs, when integrated, use that toaster to display toast messages. From another perspective, putting so much logic into app-shell makes it a fat. Changing the app-shell would be a nightmare at the end of the day.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:20,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"What is the solution to this problem?\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:22,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Keeping app-shell as minimal as possible is the ultimate goal. However, we need to have a way of implementing generic functions such as toast, confirm, etc. Somewhere else, rather than app-shell.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:24,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Prerequisites\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:26,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ul,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:\"You need to be familiar with frontend development\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:28,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"You need to have a basic understanding of react\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:29,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"You need to be able to think about micro frontend architecture\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:30,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"You are familiar with state management libraries such zustand\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:31,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:28,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Part 0: What are host and remote\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"I assume you are familiar with micro frontend terms. However, here\\u2019s a quick note about host and remote. Both are standalone applications that can be run independently. They have their own package.json with essential scripts. So, regardless of any circumstances, you can start/develop them.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:35,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"From another point of view, although remote applications are standalone, there should be some kind of container that puts all these remotes together, which we call the host.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:37,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Host or App Shell is a very small - or at least should be small - application that defines layouts, general functionalities such as notifications, and handles routing.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"-- image 1\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:41,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Part 1: What does not work\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"With the above explanation in mind, we will now look into one part of app-shell, which displays toast messages. As explained earlier, all other remotes (MFEs) will be consolidated in app-shell. Therefore, something like a toaster should be implemented in a central location that all other remotes can access, such as app-shell. However, putting it into app-shell could make it more susceptible to future changes.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:45,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"For a few minutes, let\\u2019s try not to separate the toaster from the app-shell. We are going to do the wrong thing. Let's assume we have two primary components implemented in the app-shell, toaster and confirm.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:47,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"hljs language-js\",children:[(0,t.jsxDEV)(n.span,{className:\"hljs-comment\",children:\"// app_shell/toaster\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"function\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"Toast\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\",children:\"{ message }\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`) {\n  `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"return\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"xml\",children:(0,t.jsxDEV)(n.span,{className:\"hljs-tag\",children:[\"<\",(0,t.jsxDEV)(n.span,{className:\"hljs-name\",children:\"ToastMessage\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-attr\",children:\"message\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"=\",(0,t.jsxDEV)(n.span,{className:\"hljs-string\",children:\"{message}\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" />\"]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this)},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`;\n}\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"function\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"useToast\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`) {\n  `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"return\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),` {\n    `,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"showSuccess\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`) {\n      `,(0,t.jsxDEV)(n.span,{className:\"hljs-comment\",children:\"/* show toast with success message */\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`\n    },\n    `,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"showError\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`) {\n      `,(0,t.jsxDEV)(n.span,{className:\"hljs-comment\",children:\"/* show toast with error message */\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`\n    },\n  };\n}\n\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-comment\",children:\"// app_shell/confirm\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"function\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"Confirm\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\",children:\"{ message }\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`) {\n  `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"return\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"xml\",children:(0,t.jsxDEV)(n.span,{className:\"hljs-tag\",children:[\"<\",(0,t.jsxDEV)(n.span,{className:\"hljs-name\",children:\"ConfirmMessage\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-attr\",children:\"message\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"=\",(0,t.jsxDEV)(n.span,{className:\"hljs-string\",children:\"{message}\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" />\"]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this)},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`;\n}\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"function\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"useConfirm\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`) {\n  `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"return\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),` {\n    `,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"show\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`) {\n      `,(0,t.jsxDEV)(n.span,{className:\"hljs-comment\",children:\"/* show confirm */\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`\n    },\n  };\n}\n`]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:49,columnNumber:1},this)},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:49,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"So app-shell will be shipped with these two components. Other MFEs would use these components by communicating with app-shell.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:78,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"hljs language-javascript\",children:[(0,t.jsxDEV)(n.span,{className:\"hljs-comment\",children:\"// authentication\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"import\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" { useToast } \",(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"from\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-string\",children:\"'app_shell/toaster'\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`;\n\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"function\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"Authentication\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`) {\n\n `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"const\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" toaster = \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"useToast\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`();\n\n `,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"useEffect\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-function\",children:\"() =>\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),` {\n  `,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"doSomeAuthenticationStuff\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`()\n   .`,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"then\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(toaster.\",(0,t.jsxDEV)(n.span,{className:\"hljs-property\",children:\"showSuccess\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`)\n   .`,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"catch\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(toaster.\",(0,t.jsxDEV)(n.span,{className:\"hljs-property\",children:\"showError\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`)\n }, []);\n};\n\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-comment\",children:\"// user profile\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"import\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" { useToast } \",(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"from\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-string\",children:\"'app_shell/toaster'\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`;\n\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"function\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"UserProfile\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`) {\n\n `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"const\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" toaster = \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"useToast\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`();\n\n `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"function\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"save\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`) {\n  `,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"saveProfile\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`()\n   .`,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"then\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(toaster.\",(0,t.jsxDEV)(n.span,{className:\"hljs-property\",children:\"showSuccess\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`)\n   .`,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"catch\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`(showError);\n }\n\n `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"return\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),` (\n  `,(0,t.jsxDEV)(n.span,{className:\"xml\",children:[(0,t.jsxDEV)(n.span,{className:\"hljs-tag\",children:\"<>\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`\n   `,(0,t.jsxDEV)(n.span,{className:\"hljs-tag\",children:[\"<\",(0,t.jsxDEV)(n.span,{className:\"hljs-name\",children:\"h1\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\">\"]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"User Profile\",(0,t.jsxDEV)(n.span,{className:\"hljs-tag\",children:[\"</\",(0,t.jsxDEV)(n.span,{className:\"hljs-name\",children:\"h1\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\">\"]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`\n   `,(0,t.jsxDEV)(n.span,{className:\"hljs-tag\",children:[\"<\",(0,t.jsxDEV)(n.span,{className:\"hljs-name\",children:\"button\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-attr\",children:\"onClick\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"=\",(0,t.jsxDEV)(n.span,{className:\"hljs-string\",children:\"{}\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\">\"]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"Save\",(0,t.jsxDEV)(n.span,{className:\"hljs-tag\",children:[\"</\",(0,t.jsxDEV)(n.span,{className:\"hljs-name\",children:\"button\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\">\"]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`\n  `,(0,t.jsxDEV)(n.span,{className:\"hljs-tag\",children:\"</>\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this)]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`\n )\n}\n`]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:80,columnNumber:1},this)},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:80,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Every update to each of these components results in an update to the entire app-shell. Every change in the toaster requires a whole end-to-end test on app-shell functions. We are making app-shell vulnerable to more bugs and side effects. On the other side, remotes have a direct dependency on app-shell.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:117,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Part 2: What works\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:119,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"So how are we going to decouple app-shell from such components that bring fragility? First, showing a toast message should not be a direct call. Second, managing the state of the toaster should be handled somewhere rather than app-shell.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:121,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"For building an in-direct manner, I am using a very simple infrastructure which is based on the command design pattern.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:123,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.blockquote,{children:[`\n`,(0,t.jsxDEV)(n.p,{children:\"The Command pattern encapsulates actions as objects. Command objects allow for loosely coupled systems by separating the objects that issue a request from the objects that actually process the request. These requests are called events and the code that processes the requests are called event handlers.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:125,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:125,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"And another remote will handle the toaster state, which I name it communication-hub.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:127,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"hljs language-javascript\",children:[(0,t.jsxDEV)(n.span,{className:\"hljs-comment\",children:\"// hub\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"import\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" { useToast } \",(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"from\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-string\",children:'\"toast\"'},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`;\n\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"const\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),` commands = {\n  `,(0,t.jsxDEV)(n.span,{className:\"hljs-attr\",children:\"showToast\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\": useToast.\",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"getState\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"().\",(0,t.jsxDEV)(n.span,{className:\"hljs-property\",children:\"showToast\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`,\n};\n\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"export\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"const\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-title class_\",children:\"Hub\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),` = {\n  `,(0,t.jsxDEV)(n.span,{className:\"hljs-attr\",children:\"runCommand\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\": \",(0,t.jsxDEV)(n.span,{className:\"hljs-function\",children:[\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\",children:\"command, payload\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\") =>\"]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),` commands[command](payload),\n  useValues,\n};\n\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"function\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"useValues\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`) {\n  `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"const\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" { toast } = \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"useToast\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`();\n\n  `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"return\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),` {\n    toast,\n  };\n}\n`]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:129,columnNumber:1},this)},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:129,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"As before, toaster will work. However, by decoupling toaster from app-shell we ended up to a more solid app-shell that only changes if it should.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:151,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Other remotes still can show toast messages.\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:153,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"hljs language-javascript\",children:[(0,t.jsxDEV)(n.span,{className:\"hljs-comment\",children:\"// authentication\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"import\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" { \",(0,t.jsxDEV)(n.span,{className:\"hljs-title class_\",children:\"Hub\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" } \",(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"from\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-string\",children:'\"toaster\"'},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`;\n\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"function\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"Authentication\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`) {\n  `,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"useEffect\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-function\",children:\"() =>\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),` {\n    `,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"doSomeAuthenticationStuff\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`()\n      .`,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"then\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-function\",children:\"() =>\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),` {\n        `,(0,t.jsxDEV)(n.span,{className:\"hljs-title class_\",children:\"Hub\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\".\",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"runCommand\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-string\",children:'\"showToast\"'},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\", \",(0,t.jsxDEV)(n.span,{className:\"hljs-string\",children:'\"Succeed\"'},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`);\n      })\n      .`,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"catch\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-function\",children:[\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\",children:\"error\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\") =>\"]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),` {\n        `,(0,t.jsxDEV)(n.span,{className:\"hljs-title class_\",children:\"Hub\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\".\",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"runCommand\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-string\",children:'\"showToast\"'},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\", \",(0,t.jsxDEV)(n.span,{className:\"hljs-string\",children:[\"`Error, \",(0,t.jsxDEV)(n.span,{className:\"hljs-subst\",children:\"${error}\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),\"`\"]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this),`);\n      });\n  }, []);\n}\n`]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:155,columnNumber:1},this)},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:155,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Check out my \",(0,t.jsxDEV)(n.a,{href:\"https://github.com/sadrzadehsina/micro-frontend-playground/tree/main/communication-pattern\",children:\"Github repository\"},void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:172,columnNumber:14},this),\" for a working version.\"]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:172,columnNumber:1},this)]},void 0,!0,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\",lineNumber:1,columnNumber:1},this)}function gn(m={}){let{wrapper:n}=m.components||{};return n?(0,t.jsxDEV)(n,Object.assign({},m,{children:(0,t.jsxDEV)(ke,m,void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this)}),void 0,!1,{fileName:\"/home/sina/git/reactandme/src/posts/a-communication-hub-for-two-way-host-remote-bindings/_mdx_bundler_entry_point-e8f61d34-cd52-4bab-b84b-3653ef33e1c2.mdx\"},this):ke(m)}var yn=gn;return _n(wn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
  },
  "_id": "a-communication-hub-for-two-way-host-remote-bindings/a-communication-hub-for-two-way-host-remote-bindings.mdx",
  "_raw": {
    "sourceFilePath": "a-communication-hub-for-two-way-host-remote-bindings/a-communication-hub-for-two-way-host-remote-bindings.mdx",
    "sourceFileName": "a-communication-hub-for-two-way-host-remote-bindings.mdx",
    "sourceFileDir": "a-communication-hub-for-two-way-host-remote-bindings",
    "contentType": "mdx",
    "flattenedPath": "a-communication-hub-for-two-way-host-remote-bindings/a-communication-hub-for-two-way-host-remote-bindings"
  },
  "type": "Post",
  "url": "/posts/a-communication-hub-for-two-way-host-remote-bindings"
}